"use strict";(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[207],{7207:(e,s,a)=>{a.d(s,{Reminders:()=>A});var r=a(9458),i=a(5379),l=a(5686),n=a(788),c=a(4349),t=a(8957),d=a(8899),o=a(4808),m=a(579);const x=e=>{let{children:s,className:a,...r}=e;return(0,m.jsxs)(t.$n,{size:"icon",variant:"ghost",className:(0,c.cn)("shrink-0 opacity-30 hover:bg-accent-dark hover:text-destructive hover:opacity-100",a),...r,children:[(0,m.jsx)(o.A,{className:"icon"}),s]})};var u=a(1360);const h=e=>{let{children:s,className:a,...r}=e;return(0,m.jsxs)(t.$n,{variant:"ghost",className:(0,c.cn)("gap-1 border border-accent-dark hover:bg-accent-dark hover:text-primary",a),...r,children:[(0,m.jsx)(u.A,{className:"icon"}),s]})},j=e=>{let{children:s,className:a,...r}=e;return(0,m.jsx)(t.$n,{size:"icon",variant:"ghost",className:(0,c.cn)("shrink-0 bg-accent-dark hover:bg-background hover:text-primary",a),...r,children:s})},p=e=>{let{reminder:s}=e;const[a]=(0,c.Qs)();return(0,m.jsxs)("div",{className:"flex items-center justify-between gap-2 py-2","data-testid":"reminder-item-".concat(s.id),children:[(0,m.jsx)(t.o5,{variant:"p",className:"overflow-x-scroll text-nowrap py-2",children:s.title}),(0,m.jsx)(x,{"data-testid":"delete-reminder-item-".concat(s.id),onClick:()=>a(s.id)})]})},v=()=>{const e=(0,c.S9)(),{currentData:s,refetch:a}=(0,c.z5)(e),{currentData:r}=(0,c.n)(e.groupId,{skip:!e.groupId});return(0,m.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden p-4",children:[(0,m.jsxs)("div",{className:"mb-2 flex items-center justify-between gap-2",children:[(0,m.jsx)(t.o5,{variant:"h4",className:"flex items-center justify-between overflow-x-scroll text-nowrap py-2 ","data-testid":"active-list-title",children:(null===r||void 0===r?void 0:r.name)||"All"}),(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)(t.$n,{size:"icon",variant:"ghost",className:"hover:text-primary","data-testid":"refresh-reminder-list",children:(0,m.jsx)(d.A,{className:"icon",onClick:a})}),(0,m.jsx)(h,{size:"icon"})]})]}),s&&(0,m.jsx)("div",{className:"flex-1 overflow-scroll",children:(0,m.jsx)("ul",{className:"divide divide-y",children:s.map((e=>(0,m.jsx)("li",{children:(0,m.jsx)(p,{reminder:e})},e.id)))})})]})};var f=a(5043),N=a(6210),g=a(614),b=a(5505),y=a(5711),k=a(2382);const w=e=>{let{reminderGroup:s}=e;const[a,r]=(0,f.useState)(!1),[i,l]=(0,f.useState)(!1),n=(0,f.useRef)(null),d=(0,c.jL)(),[x,u]=(0,c.dP)(),[h,p]=(0,c.FG)(),{groupId:v}=(0,c.GV)(c.hk),w=v===(null===s||void 0===s?void 0:s.id),C=u.isLoading||p.isLoading,A=(0,c.cn)("py-2 flex items-center justify-between cursor-pointer gap-2"),z=(0,f.useCallback)((e=>{d((0,c.dR)(e))}),[d]),I=(0,f.useCallback)((async e=>{await(0,c.$F)((()=>x(e)))}),[x]),$=(0,f.useCallback)((async e=>{await(0,c.$F)((()=>h(e))),l(!1)}),[h]),S=(0,f.useMemo)((()=>s&&i?(0,m.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,m.jsx)(t.pd,{className:"ml-1 mr-2",defaultValue:s.name,ref:n,autoFocus:!0}),(0,m.jsxs)("div",{className:"flex items-center gap-1",children:[(0,m.jsx)(j,{onClick:()=>$({id:s.id,name:n.current.value}),children:(0,m.jsx)(N.A,{className:"icon"})}),(0,m.jsx)(j,{onClick:()=>l(!1),children:(0,m.jsx)(g.A,{className:"icon text-destructive"})})]})]}):(0,m.jsx)(t.o5,{variant:"p",className:(0,c.cn)("overflow-x-scroll text-nowrap py-2",w&&"text-primary"),onClick:()=>z({groupId:s?s.id:void 0}),children:s?s.name:"All"})),[s,i,w,z,$]);return(0,m.jsxs)("div",{className:"".concat(A),"data-testid":"reminder-group-item-".concat(s?s.id:"all"),children:[S,s&&!i&&(0,m.jsx)(t.rI,{data:[{id:"edit",component:()=>(0,m.jsx)(j,{"data-testid":"reminder-group-item-edit-".concat(s.id),onClick:()=>l(!0),children:(0,m.jsx)(b.A,{className:"icon"})})},{id:"delete",component:()=>(0,m.jsx)(j,{"data-testid":"reminder-group-item-delete-".concat(s.id),onClick:()=>I(s.id),className:"hover:text-destructive",children:(0,m.jsx)(o.A,{className:"icon"})})}],triggerer:e=>(0,m.jsx)(t.$n,{variant:"secondary",size:"icon","data-testid":"reminder-group-item-menu-".concat(s.id),disabled:C,...e,children:a?(0,m.jsx)(y.A,{className:"icon"}):(0,m.jsx)(k.A,{className:"icon"})}),isOpen:a,onToggle:r,itemRenderer:e=>e.component(),position:"bottom-right"})]})},C=()=>{const{data:e}=(0,c.kI)(),[s,a]=(0,f.useState)(!1),{AddItemComponent:r}=(e=>{let{onSave:s,onCancel:a,type:r,value:i=""}=e;const l=(0,f.useRef)(null),[n,d]=(0,c.Lp)(),[o,x]=(0,c.E2)(),u=(0,f.useCallback)((async()=>{"reminder"===r&&await(0,c.$F)((()=>n({title:l.current.value}))),"reminderGroup"===r&&await(0,c.$F)((()=>o({name:l.current.value}))),null===s||void 0===s||s()}),[s,n,o,r]),h=(0,f.useCallback)((()=>{null===a||void 0===a||a()}),[a]);return{AddItemComponent:()=>(0,m.jsxs)("div",{className:"my-2 flex items-center justify-between",children:[(0,m.jsx)(t.pd,{className:"ml-1 mr-2",defaultValue:i,ref:l,autoFocus:!0}),(0,m.jsxs)("div",{className:"flex items-center gap-1",children:[(0,m.jsx)(j,{onClick:u,children:(0,m.jsx)(N.A,{className:"icon"})}),(0,m.jsx)(j,{onClick:h,children:(0,m.jsx)(g.A,{className:"icon text-destructive"})})]})]}),result:"reminder"===r?d:x}})({type:"reminderGroup",onCancel:()=>a(!1),onSave:()=>a(!1)});return(0,m.jsxs)("div",{className:"flex min-w-[200px] flex-1 flex-col overflow-hidden p-4",children:[(0,m.jsx)("div",{className:"mb-2 mt-1 flex justify-center",children:(0,m.jsx)(h,{size:"full",onClick:()=>a((e=>!e)),disabled:s,children:"Add List"})}),(0,m.jsx)("div",{className:"flex-1 overflow-scroll",children:(0,m.jsxs)("ul",{className:"divide divide-y divide-accent-dark",children:[(0,m.jsx)("li",{children:(0,m.jsx)(w,{})},"all"),e&&e.map((e=>(0,m.jsx)("li",{children:(0,m.jsx)(w,{reminderGroup:e})},e.id)))]})}),s&&(0,m.jsx)(r,{})]})},A=()=>{const{isBelowMd:e}=(0,n.d)("md");return(0,m.jsx)("div",{className:"mx-auto h-full max-w-screen-md p-2 md:p-8",children:(0,m.jsxs)("div",{className:"flex h-full flex-col rounded border-2 border-primary shadow-lg lg:h-3/4",children:[(0,m.jsx)("nav",{className:"flex h-[--navbar-height] border-b-2 border-primary",children:(0,m.jsx)("ul",{className:"flex flex-1 items-center justify-between px-4",children:(0,m.jsx)("li",{children:(0,m.jsx)(t.o5,{variant:"h2",className:"pb-0",children:"Reminders"})})})}),(0,m.jsxs)(r.YZ,{direction:e?"vertical":"horizontal",className:"flex-1",autoSaveId:"reminders-panel-group",children:[(0,m.jsx)(r.Zk,{maxSize:50,className:"flex flex-col",children:(0,m.jsx)(C,{})}),(0,m.jsx)(r.TW,{className:"group",children:(0,m.jsx)("div",{className:(0,c.cn)("flex h-full w-full items-center border-primary group-hover:bg-secondary group-hover:text-primary",e?"border-b-2":"border-r-2"),children:e?(0,m.jsx)(i.A,{className:"icon mx-auto"}):(0,m.jsx)(l.A,{className:"icon mx-auto"})})}),(0,m.jsx)(r.Zk,{className:"flex flex-col",children:(0,m.jsx)(v,{})})]})]})})}}}]);
//# sourceMappingURL=207.0359c705.chunk.js.map