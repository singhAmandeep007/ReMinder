"use strict";(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[163,735,176],{4735:(e,r,t)=>{t.r(r),t.d(r,{buildScenarios:()=>o,db:()=>s});var n=t(3527),d=t(4349),i=t(9700);const s=(0,n.factory)({reminder:{id:(0,n.primaryKey)(d.uR),title:()=>"Reminder ".concat((0,d.uR)({simple:!0})),isPinned:()=>!1,state:()=>i.x.ACTIVE,group:(0,n.oneOf)("reminderGroup"),createdAt:()=>(new Date).toISOString(),updatedAt:()=>(new Date).toISOString()},reminderGroup:{id:(0,n.primaryKey)(d.uR),name:()=>"Reminder Group ".concat((0,d.uR)({simple:!0})),createdAt:()=>(new Date).toISOString(),updatedAt:()=>(new Date).toISOString()}}),o=e=>{const r={withReminders:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;for(let r=0;r<t;r++)e.reminder.create();return r},withReminderGroups:t=>{let{reminderGroups:n=["Work","Home","Personal"],remindersPerGroup:d=10}=t;return n.forEach((r=>{const t=e.reminderGroup.create({name:r});for(let n=0;n<d;n++)e.reminder.create({group:t})})),r}};return r}},1163:(e,r,t)=>{t.r(r),t.d(r,{createReminder:()=>u,deleteReminder:()=>c,getReminders:()=>a,updateReminder:()=>l});var n=t(8814),d=t(153),i=t(4349),s=t(1176),o=t(4735);const a=n.L.get((0,s.urlPrefix)("/reminders"),(e=>{let{request:r}=e;const t=o.db.reminder.getAll(),n=(0,i.wm)(r.url);let s=structuredClone(t);return n.groupId&&(s=s.filter((e=>{var r;return(null===e||void 0===e||null===(r=e.group)||void 0===r?void 0:r.id)===n.groupId}))),n.state&&(s=s.filter((e=>e.state===n.state))),d.c.json({data:s},{status:200})})),u=n.L.post((0,s.urlPrefix)("/reminders"),(async e=>{let{request:r}=e;const{title:t,groupId:n}=await r.json(),i=o.db.reminderGroup.getAll().find((e=>e.id===n));if(n&&!i)return d.c.json({message:"Reminder Group with id ".concat(n," not found!")},{status:404});const s=o.db.reminder.create({title:t,group:i});return d.c.json({data:s},{status:201})})),c=n.L.delete((0,s.urlPrefix)("/reminders/:id"),(e=>{let{params:r}=e;return o.db.reminder.findFirst({where:{id:{equals:r.id}}})?(o.db.reminder.delete({where:{id:{equals:r.id}}}),d.c.json({message:"Reminder with id ".concat(r.id," deleted!")},{status:200})):d.c.json({message:"Reminder with id ".concat(r.id," not found!")},{status:404})})),l=n.L.patch((0,s.urlPrefix)("/reminders/:id"),(async e=>{let{request:r,params:t}=e;const{groupId:n,...i}=await r.json();if(!o.db.reminder.findFirst({where:{id:{equals:t.id}}}))return d.c.json({message:"Reminder with id ".concat(t.id," not found!")},{status:404});const s=o.db.reminderGroup.findFirst({where:{id:{equals:n}}});if(n&&!s)return d.c.json({message:"Reminder Group with id ".concat(n," not found!")},{status:404});const a=o.db.reminder.update({where:{id:{equals:t.id}},data:{...i}});return d.c.json({data:a},{status:200})}))},1176:(e,r,t)=>{t.r(r),t.d(r,{urlPrefix:()=>d});const n="https://todo-app.com/api/v1/",d=e=>{if("/"!==e[0])throw new Error("MSW handler path should start with a forward slash.");return"/"===n[27]?"".concat(n).concat(e.slice(1)):"".concat(n).concat(e)}},9700:(e,r,t)=>{t.d(r,{x:()=>n});const n={ACTIVE:"ACTIVE",COMPLETED:"COMPLETED"}}}]);
//# sourceMappingURL=163.d80f9ac2.chunk.js.map