"use strict";(self.webpackChunkreminder_app=self.webpackChunkreminder_app||[]).push([[972],{9972:(e,r,t)=>{t.d(r,{runServer:()=>w});var n={};t.r(n),t.d(n,{reminder:()=>m,reminderGroup:()=>p});var i={};t.r(i),t.d(i,{reminder:()=>g,reminderGroup:()=>h});var s=t(1266),d=t(9700),o=t(126);const a=e=>new s.YK(404,{},{message:"Resource ".concat(e," not found!")});function u(){this.get((0,o.Iw)("/reminders"),((e,r)=>{let t;const n=r.queryParams;if(n){if(n.groupId){if(null===e.find("reminderGroup",n.groupId))return a("Reminder group "+n.groupId)}t=e.where("reminder",n)}else t=e.all("reminder");return{data:t.models.map((e=>e.getAttributes()))}})),this.delete((0,o.Iw)("/reminders/:id"),((e,r)=>{const t=r.params.id,n=e.find("reminder",t);return null===n||void 0===n||n.destroy(),null===n?a("Reminder "+t):{message:"Reminder with id ".concat(t," deleted!")}})),this.post((0,o.Iw)("/reminders"),((e,r)=>{const t=JSON.parse(r.requestBody),n={isPinned:!1,state:d.x.INACTIVE,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),dueDate:null,repeatInterval:null,repeatTimes:null,currentFocusSession:null,focusSessions:[]};return{data:e.create("reminder",Object.assign(n,t)).getAttributes()}})),this.patch((0,o.Iw)("/reminders/:id"),((e,r)=>{const t=r.params.id,n=JSON.parse(r.requestBody),i=e.find("reminder",t);return null===i?a("Reminder "+t):(i.update(n),{data:i.getAttributes()})}))}function l(){this.get((0,o.Iw)("/reminder-groups"),(e=>({data:e.all("reminderGroup").models}))),this.get((0,o.Iw)("/reminder-groups/:id"),((e,r)=>{const t=r.params.id,n=e.find("reminderGroup",t);return null===n?a("Reminder group "+t):{data:n}})),this.delete((0,o.Iw)("/reminder-groups/:id"),((e,r)=>{const t=r.params.id,n=e.find("reminderGroup",t);if(null===n)return a("Reminder group "+t);const i=e.all("reminder").filter((e=>e.groupId===t));return null===i||void 0===i||i.destroy(),null===n||void 0===n||n.destroy(),{message:"Reminder group with id ".concat(t," deleted!")}})),this.patch((0,o.Iw)("/reminder-groups/:id"),((e,r)=>{const t=r.params.id,n=JSON.parse(r.requestBody),i=e.find("reminderGroup",t);return null===i?a("Reminder group "+t):(i.update(n),{data:i})})),this.post((0,o.Iw)("/reminder-groups"),((e,r)=>{const t=JSON.parse(r.requestBody),n={createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return{data:e.create("reminderGroup",Object.assign(n,t))}}))}function c(){u.call(this),l.call(this)}const m=s.Kx.extend({group:(0,s.g4)("reminderGroup"),getAttributes(){const{groupId:e,...r}=this.attrs;return r.group=e?this.group.attrs:null,r}}),p=s.Kx.extend({}),g=s.$7.extend({id:e=>"reminder-id-".concat(e),title:e=>"Reminder ".concat(e),isPinned:e=>e%2===0,state:d.x.INACTIVE,createdAt:()=>(new Date).toISOString(),updatedAt:()=>(new Date).toISOString(),dueDate:()=>null,repeatInterval:()=>null,repeatTimes:()=>null,group:()=>null,focusSessions:()=>[],currentFocusSession:()=>null}),h=s.$7.extend({id:e=>"reminder-group-id-".concat(e),name:e=>"Reminder Group ".concat(e),createdAt:()=>(new Date).toISOString(),updatedAt:()=>(new Date).toISOString()});class I{constructor(){this.ids=void 0,this.ids=new Set}fetch(){let e=(0,o.uR)();for(;this.ids.has(e);)e=(0,o.uR)();return this.ids.add(e),e}set(e){if(this.ids.has(e))throw new Error("ID ".concat(e," has already been used."));this.ids.add(e)}reset(){this.ids.clear()}}var S=t(1556);function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,s.sA)({logging:e.logging||!0,trackRequests:(null===e||void 0===e?void 0:e.trackRequests)||!1,environment:(null===e||void 0===e?void 0:e.environment)||"development",models:n,factories:i,identityManagers:{application:I},seeds(r){null!==e&&void 0!==e&&e.withDefaultScenario&&function(e){const r={withReminders:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return e.createList("reminder",t),r},withReminderGroups:t=>{let{reminderGroups:n=["Work","Home","Personal"],remindersPerGroup:i=10}=t;return n.forEach((r=>{const t=e.create("reminderGroup",{name:r});e.createList("reminder",i,{group:t})})),r},withFocusSessions:()=>(e.db.reminders.forEach((r=>{const t=Math.floor(11*Math.random())+0,n=(0,S.Q)(t);e.db.reminders.update(r.id,{focusSessions:n})})),r)};return r}(r).withReminders(5).withReminderGroups({remindersPerGroup:2}).withFocusSessions()},routes(){this.timing=e.timing||100,c.call(this),this.passthrough()}});return r}},1556:(e,r,t)=>{t.d(r,{Q:()=>d});var n=t(8007),i=t(6632),s=t(126);function d(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;const t=new Date,d=[],o=(0,s.ML)(e,1,r);for(let s=0;s<e;s++){const e=(0,n.e)(t,o[s]),r=Math.floor(121*Math.random()),a=(0,i.z)(e,r),u=a>t?t:a,l={startTime:e.toISOString(),endTime:u.toISOString()};d.push(l)}return d.sort(((e,r)=>new Date(e.startTime).getTime()-new Date(r.startTime).getTime()))}},9700:(e,r,t)=>{t.d(r,{x:()=>n});const n={INACTIVE:"INACTIVE",INPROGRESS:"INPROGRESS",COMPLETED:"COMPLETED",ARCHIVED:"ARCHIVED"}},2187:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(9119),i=t(1019);function s(e,r){const t=+(0,n.a)(e);return(0,i.w)(e,t+r)}},6632:(e,r,t)=>{t.d(r,{z:()=>s});var n=t(2187),i=t(6815);function s(e,r){return(0,n.A)(e,r*i.Cg)}}}]);
//# sourceMappingURL=972.4ba30764.chunk.js.map